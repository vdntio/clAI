[tasks.default]
description = "Show available tasks"
command = "cargo"
args = ["make", "--list-all-steps"]

[tasks.build]
description = "Build the project in debug mode"
command = "cargo"
args = ["build"]

[tasks.build-release]
description = "Build the project in release mode"
command = "cargo"
args = ["build", "--release"]

[tasks.run]
description = "Run the application"
command = "cargo"
args = ["run", "--"]

[tasks.test]
description = "Run all tests"
command = "cargo"
args = ["test"]

[tasks.check]
description = "Check the project without building"
command = "cargo"
args = ["check"]

[tasks.clippy]
description = "Run clippy linter"
command = "cargo"
args = ["clippy", "--", "-D", "warnings"]

[tasks.fmt]
description = "Format the code"
command = "cargo"
args = ["fmt"]

[tasks.fmt-check]
description = "Check code formatting"
command = "cargo"
args = ["fmt", "--", "--check"]

[tasks.clean]
description = "Clean build artifacts"
command = "cargo"
args = ["clean"]

[tasks.lint]
description = "Run all linters (clippy + fmt check)"
dependencies = ["clippy", "fmt-check"]

[tasks.dev]
description = "Watch and rebuild on save (run clai in another terminal)"
command = "cargo"
args = ["watch", "-x", "build"]

[tasks.release]
description = "Build optimized release binary"
dependencies = ["lint", "test", "build-release"]

[tasks.install]
description = "Install the binary to cargo bin"
command = "cargo"
args = ["install", "--path", "."]

[tasks.cross-build]
description = "Build for all cross-compilation targets (requires cross)"
command = "bash"
args = ["-c", "cross build --release --target x86_64-unknown-linux-musl && cross build --release --target aarch64-unknown-linux-musl"]

[tasks.help]
description = "Show this help message"
command = "cargo"
args = ["make", "--list-all-steps"]

